(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8641c558"],{"0c4f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{ref:"form",attrs:{model:t.form}},[n("div",{staticClass:"filter-container",staticStyle:{"padding-left":"10px","padding-top":"20px"}},[n("el-input",{staticClass:"filter-item-input",staticStyle:{width:"200px"},attrs:{placeholder:"Adapter 名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[n("template",{slot:"append"},[t._v(".yml")])],2),t._v(" "),n("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择 Adapter 种类"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},[n("el-option",{key:"hbase",attrs:{label:"HBase",value:"hbase"}}),t._v(" "),n("el-option",{key:"rdb",attrs:{label:"RDB",value:"rdb"}}),t._v(" "),n("el-option",{key:"es6x",attrs:{label:"Elastic Search 6.x",value:"es6x"}}),t._v(" "),n("el-option",{key:"es7x",attrs:{label:"Elastic Search 7.x",value:"es7x"}}),t._v(" "),n("el-option",{key:"kudu",attrs:{label:"Apache Kudu",value:"kudu"}})],1),t._v(" "),n("el-select",{staticClass:"filter-item",attrs:{placeholder:"所属主机"},model:{value:t.form.clusterClientId,callback:function(e){t.$set(t.form,"clusterClientId",e)},expression:"form.clusterClientId"}},t._l(t.options,(function(e){return n("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)})),1),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"success"},on:{click:t.onLoadTemplate}},[t._v("载入模板")]),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"info"},on:{click:t.onBack}},[t._v("返回")])],1),t._v(" "),n("editor",{attrs:{lang:"properties",theme:"chrome",width:"100%",height:800},on:{init:t.editorInit},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)},r=[],o=(n("7f7f"),n("5aad")),c=n("d631"),l={components:{editor:n("7c9e")},data:function(){return{options:[],form:{name:"",content:"",clusterClientId:""}}},created:function(){var t=this;Object(c["d"])().then((function(e){t.options=e.data}))},methods:{editorInit:function(){n("2099"),n("be9d"),n("2968"),n("e0e5"),n("bb36"),n("0329"),n("95b8"),n("6a21")},onSubmit:function(){var t=this;""!==this.form.name?""!==this.form.category?""!==this.form.clusterClientId?null!==this.form.content&&""!==this.form.content?this.$confirm("确定新建","确定新建",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])(t.form).then((function(e){"success"===e.data?(t.$message({message:"新建成功",type:"success"}),t.$router.push("/canalClient/canalAdapters")):t.$message({message:"新建失败",type:"error"})}))})):this.$message({message:"请输入配置内容",type:"error"}):this.$message({message:"请选择集群/主机",type:"error"}):this.$message({message:"请输入Adapter种类",type:"error"}):this.$message({message:"请输入Adapter名称",type:"error"})},onBack:function(){history.go(-1)},onLoadTemplate:function(){var t=this;console.log(this.form),Object(o["f"])(this.form).then((function(e){null!==e.data&&""!==e.data||t.$message({message:"未找到预留模版，请自行编辑",type:"error"}),t.form.content=e.data}))}}},s=l,u=(n("b7bd"),n("2877")),i=Object(u["a"])(s,a,r,!1,null,"1a356d60",null);e["default"]=i.exports},"2ba9":function(t,e,n){},"5aad":function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"j",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return d})),n.d(e,"i",(function(){return f}));var a=n("b775");function r(t){return Object(a["a"])({url:"/canal/adapters",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/canal/adapter/"+t,method:"get"})}function c(t){return Object(a["a"])({url:"/canal/adapter",method:"put",data:t})}function l(t){return Object(a["a"])({url:"/canal/adapter",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/canal/adapters/batch",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/canal/adapter/"+t,method:"delete"})}function i(t){return Object(a["a"])({url:"/canal/adapter/template",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/canal/adapter/template/engine",method:"get",params:t})}function f(t){return Object(a["a"])({url:"/canal/adapter/template/engine/preview?_method=get",method:"post",data:t})}},b7bd:function(t,e,n){"use strict";var a=n("2ba9"),r=n.n(a);r.a},d631:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return u}));var a=n("b775");function r(t){return Object(a["a"])({url:"/canal/clusters",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/canal/cluster",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/canal/cluster",method:"put",data:t})}function l(t){return Object(a["a"])({url:"/canal/cluster/"+t,method:"delete"})}function s(){return Object(a["a"])({url:"/canal/clustersAndServers",method:"get"})}function u(){return Object(a["a"])({url:"/canal/clustersAndClients",method:"get"})}}}]);